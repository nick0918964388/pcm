# 照片庫功能任務索引與並行開發指南

## 並行開發分組

### Group A: 基礎架構（可並行）
- **1-1**: 資料庫架構設置
- **1-2**: 類型定義與資料結構 ✅

### Group B: 上傳功能（部分可並行）
- **2-1**: 上傳服務層 ✅
- **2-2**: 圖片處理機制 ✅
- **2-3**: 拖放上傳UI ✅

### Group C: 瀏覽管理（可並行）
- **3-1**: 相簿列表元件
- **3-2**: 照片網格顯示
- **3-3**: Zustand狀態管理

### Group D: 預覽功能（串行）
- **4-1**: 燈箱整合
- **4-2**: 導航與縮放（需4-1完成）

### Group E: 下載功能（可並行）
- **5-1**: 單張下載
- **5-2**: 批次下載

### Group F: 搜尋篩選（可並行）
- **6-1**: 搜尋元件
- **6-2**: 篩選器元件

### Group G: 安全機制（可並行）
- **7-1**: 權限驗證中介層
- **7-2**: 檔案安全措施

### Group H: 效能優化（可並行）
- **8-1**: 效能優化策略
- **8-2**: 響應式設計支援

### Group I: API與整合（可並行）
- **9-1**: 照片管理API
- **9-2**: 系統整合

### Group J: 測試（可並行）
- **10-1**: 單元測試套件
- **10-2**: 整合與E2E測試

## Git Worktree 建議配置

### 並行分支建議
```bash
# 主分支
git worktree add ../pcm-photo-base 001-photo-management

# Group A+C+G: 基礎架構與狀態管理
git worktree add ../pcm-photo-infra feature/photo-infra
# 包含: 1-1, 3-3, 7-1, 7-2

# Group C: UI元件開發
git worktree add ../pcm-photo-ui feature/photo-ui
# 包含: 3-1, 3-2

# Group D: 燈箱預覽
git worktree add ../pcm-photo-lightbox feature/photo-lightbox
# 包含: 4-1, 4-2（串行）

# Group E+F: 下載與搜尋
git worktree add ../pcm-photo-features feature/photo-features
# 包含: 5-1, 5-2, 6-1, 6-2

# Group H: 效能與響應式
git worktree add ../pcm-photo-perf feature/photo-performance
# 包含: 8-1, 8-2

# Group I: API開發
git worktree add ../pcm-photo-api feature/photo-api
# 包含: 9-1, 9-2

# Group J: 測試開發
git worktree add ../pcm-photo-tests feature/photo-tests
# 包含: 10-1, 10-2
```

## 開發順序建議

### 階段 1: 基礎建設（已部分完成）
- ✅ 1-2: 類型定義
- ✅ 2-1: 上傳服務
- ✅ 2-2: 圖片處理
- ✅ 2-3: 上傳UI
- ⏳ 1-1: 資料庫架構
- ⏳ 3-3: 狀態管理
- ⏳ 7-1: 權限中介層

### 階段 2: 核心功能
- 3-1: 相簿列表
- 3-2: 照片網格
- 4-1: 燈箱整合
- 9-1: 照片API

### 階段 3: 進階功能
- 4-2: 導航縮放
- 5-1: 單張下載
- 5-2: 批次下載
- 6-1: 搜尋功能
- 6-2: 篩選功能

### 階段 4: 優化整合
- 7-2: 檔案安全
- 8-1: 效能優化
- 8-2: 響應式設計
- 9-2: 系統整合

### 階段 5: 測試完善
- 10-1: 單元測試
- 10-2: 整合測試

## 任務狀態圖例
- ✅ 已完成
- ⏳ 進行中
- ⏸️ 待執行
- 🔄 需重構
- ❌ 已取消

## 依賴關係說明

### 強依賴（必須先完成）
- 4-2 需要 4-1
- 所有功能需要 1-2（已完成）

### 弱依賴（建議先完成）
- 3-1, 3-2 建議有 3-3
- 5-1, 5-2 建議有 7-1
- 6-1, 6-2 建議有 3-3
- 9-1 建議有 1-1, 7-1
- 10-1, 10-2 需要對應功能完成

## 注意事項
1. 並行開發時需定期合併主分支避免衝突
2. 共享狀態管理的功能需協調介面設計
3. API設計需先確定規格再並行開發
4. 測試可與功能開發並行但需及時更新